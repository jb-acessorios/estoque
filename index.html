<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JB ACESS√ìRIOS | Estoque</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- TOP BAR (estilo sistema) -->
  <header class="topbar">
    <div class="topbar-left">
      <div class="brand">
        <img class="brand-logo" src="assets/images/logo-jb.jpg" alt="JB" onerror="this.style.display='none'">
        <div class="brand-text">
          <div class="brand-title">JB ACESS√ìRIOS</div>
          <div class="brand-sub">Controle de Estoque (b√°sico)</div>
        </div>
      </div>

      <div class="auth">
        <input id="token" type="password" placeholder="Senha" />
        <button id="btnLogin">Entrar</button>
        <span id="status" class="pill">offline</span>
      </div>
    </div>

    <!-- ICON MENU -->
    <nav class="iconbar">
      <button class="iconbtn active" data-view="estoque" title="Estoque">
        <span class="ico">üì¶</span>
        <span class="txt">Estoque</span>
      </button>

      <button class="iconbtn" data-view="cadastros" title="Cadastros">
        <span class="ico">üìù</span>
        <span class="txt">Cadastros</span>
      </button>

      <button class="iconbtn" data-view="movimentacoes" title="Movimenta√ß√µes">
        <span class="ico">üîÅ</span>
        <span class="txt">Movimenta√ß√µes</span>
      </button>

      <button class="iconbtn" data-view="relatorios" title="Relat√≥rios">
        <span class="ico">üìä</span>
        <span class="txt">Relat√≥rios</span>
      </button>
    </nav>
  </header>

  <!-- SUBBAR -->
  <div class="subbar">
    <div class="subbar-title" id="viewTitle">Controle de estoque</div>
    <div class="subbar-actions">
      <button id="btnRefreshAll">Atualizar</button>
    </div>
  </div>

  <main class="app">

    <!-- ==========================
         VIEW: ESTOQUE (tela principal)
    =========================== -->
    <section class="view active" id="view-estoque">

      <!-- filtros (estilo refer√™ncia) -->
      <div class="filters">
        <div class="field">
          <label>C√≥digo (SKU)</label>
          <input id="f_sku" placeholder="Ex: CABO-UGREEN-USBC-1M-V01" />
        </div>

        <div class="field">
          <label>Descri√ß√£o (Nome)</label>
          <input id="f_nome" placeholder="Ex: Cabo USB-C" />
        </div>

        <div class="field">
          <label>Categoria</label>
          <input id="f_categoria" placeholder="Ex: CABO / CAPA / FONE" />
        </div>

        <div class="field field-actions">
          <label>&nbsp;</label>
          <button id="btnFiltrar" class="primary">Pesquisar</button>
          <button id="btnLimparFiltro">Limpar</button>
        </div>
      </div>

      <!-- grade superior: produtos -->
      <section class="panel">
        <div class="panel-head">
          <div class="panel-title">Produtos</div>
          <div class="panel-buttons">
            <button id="btnItensEmFalta">Itens em falta</button>
          </div>
        </div>

        <div class="gridwrap">
          <table id="tblProdutos">
            <thead>
              <tr>
                <th>SKU</th>
                <th>Descri√ß√£o</th>
                <th>Categoria</th>
                <th>Marca</th>
                <th>Atual</th>
                <th>Pre√ßo</th>
                <th>Local</th>
                <th>Ativo</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="hint">
          Clique no produto para ver movimentos e preencher o SKU nas movimenta√ß√µes.
          <span class="low">baixo</span> <span class="bad">zerado</span>
        </div>
      </section>

      <!-- grade inferior: movimentos do SKU selecionado -->
      <section class="panel">
        <div class="panel-head">
          <div class="panel-title">
            Movimentos do produto: <span id="selectedSku" class="mono">---</span>
          </div>
          <div class="panel-buttons">
            <input id="movLimit" value="50" class="small" />
            <button id="btnLoadMoves">Carregar</button>
          </div>
        </div>

        <div class="gridwrap">
          <table id="tblMoves">
            <thead>
              <tr>
                <th>Data</th>
                <th>Tipo</th>
                <th>SKU</th>
                <th>Qtd</th>
                <th>Obs</th>
                <th>Usu√°rio</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

    </section>

    <!-- ==========================
         VIEW: CADASTROS
    =========================== -->
    <section class="view" id="view-cadastros">
      <section class="panel">
        <div class="panel-head">
          <div class="panel-title">Cadastro de Produto</div>
          <div class="panel-buttons">
            <button id="btnNovoProduto">Novo</button>
          </div>
        </div>

        <div class="formgrid">
          <div class="field">
            <label>SKU (manual)</label>
            <input id="p_sku" placeholder="EX: CABO-UGREEN-USBC-1M-V01" />
          </div>
          <div class="field">
            <label>Nome</label>
            <input id="p_nome" placeholder="Descri√ß√£o do produto" />
          </div>
          <div class="field">
            <label>Categoria</label>
            <input id="p_categoria" placeholder="CABO / CAPA / FONE ..." />
          </div>
          <div class="field">
            <label>Marca</label>
            <input id="p_marca" placeholder="UGREEN / JBL / APPLE ..." />
          </div>

          <div class="field">
            <label>Custo</label>
            <input id="p_custo" placeholder="12,50" />
          </div>
          <div class="field">
            <label>Pre√ßo</label>
            <input id="p_preco" placeholder="29,90" />
          </div>

          <div class="field">
            <label>Estoque atual</label>
            <input id="p_estoque" placeholder="20" />
          </div>
          <div class="field">
            <label>Estoque m√≠nimo</label>
            <input id="p_minimo" placeholder="5" />
          </div>

          <div class="field">
            <label>Local</label>
            <input id="p_local" placeholder="Prateleira A1" />
          </div>
          <div class="field">
            <label>Ativo</label>
            <select id="p_ativo">
              <option value="SIM">SIM</option>
              <option value="NAO">N√ÉO</option>
            </select>
          </div>

          <div class="field field-actions wide">
            <button id="btnSalvarProduto" class="primary">Salvar</button>
            <button id="btnLimparProduto">Limpar</button>
          </div>
        </div>

        <div class="hint">
          SKU sempre em MAI√öSCULO (o sistema for√ßa automaticamente).
        </div>
      </section>
    </section>

    <!-- ==========================
         VIEW: MOVIMENTA√á√ïES
    =========================== -->
    <section class="view" id="view-movimentacoes">
      <section class="panel">
        <div class="panel-head">
          <div class="panel-title">Entrada / Sa√≠da / Ajuste</div>
        </div>

        <div class="formgrid">
          <div class="field">
            <label>Tipo</label>
            <select id="m_tipo">
              <option>ENTRADA</option>
              <option>SAIDA</option>
              <option>AJUSTE</option>
            </select>
          </div>

          <div class="field">
            <label>SKU</label>
            <input id="m_sku" placeholder="Cole o SKU ou clique um produto no estoque" />
          </div>

          <div class="field">
            <label>Quantidade</label>
            <input id="m_qtd" placeholder="10 (AJUSTE = estoque final)" />
          </div>

          <div class="field">
            <label>Usu√°rio</label>
            <input id="m_usuario" placeholder="Ex: Luziano" />
          </div>

          <div class="field wide">
            <label>Observa√ß√£o</label>
            <input id="m_obs" placeholder="Ex: Venda balc√£o / Compra fornecedor / Assist√™ncia" />
          </div>

          <div class="field field-actions wide">
            <button id="btnRegistrarMov" class="primary">Registrar</button>
            <button id="btnLimparMov">Limpar</button>
          </div>
        </div>
      </section>
    </section>

    <!-- ==========================
         VIEW: RELAT√ìRIOS (b√°sico)
    =========================== -->
    <section class="view" id="view-relatorios">
      <section class="panel">
        <div class="panel-head">
          <div class="panel-title">Relat√≥rios</div>
        </div>

        <div class="report-cards">
          <div class="report">
            <div class="report-title">Itens abaixo do m√≠nimo</div>
            <div class="report-desc">Lista produtos com estoque menor ou igual ao m√≠nimo.</div>
            <button id="btnRelMinimo" class="primary">Gerar</button>
          </div>

          <div class="report">
            <div class="report-title">Itens zerados</div>
            <div class="report-desc">Lista produtos com estoque igual a 0.</div>
            <button id="btnRelZerados">Gerar</button>
          </div>
        </div>

        <div class="gridwrap" style="margin-top:12px;">
          <table id="tblRel">
            <thead>
              <tr>
                <th>SKU</th><th>Nome</th><th>Categoria</th><th>Estoque</th><th>M√≠n.</th><th>Pre√ßo</th><th>Local</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
