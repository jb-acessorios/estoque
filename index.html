<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JB ACESSÓRIOS | Estoque</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <header class="topbar">
    <div class="brand">
      <img src="assets/images/logo-jb.jpg" alt="JB ACESSÓRIOS">
      <div class="brandText">
        <div class="brandTitle">JB ACESSÓRIOS</div>
        <div class="brandSub">Controle de estoque (básico) • Google Sheets</div>
      </div>
    </div>

    <div class="loginBox">
      <input id="token" type="password" placeholder="Senha (API)" />
      <button id="btnLogin">Entrar</button>
      <span id="status" class="status">offline</span>
    </div>
  </header>

  <nav class="tabs">
    <button class="tab active" data-tab="produtos">Produtos</button>
    <button class="tab" data-tab="movimentar">Movimentar</button>
    <button class="tab" data-tab="movimentos">Movimentos</button>
  </nav>

  <main class="content">

    <!-- ABA: PRODUTOS -->
    <section class="panel active" id="tab-produtos">
      <div class="panelHeader">
        <h2>Cadastro de Produtos</h2>
        <div class="panelActions">
          <input id="search" placeholder="Buscar por SKU / nome / categoria..." />
          <button id="btnReload">Recarregar</button>
        </div>
      </div>

      <div class="split">
        <div class="card">
          <h3>Lista</h3>
          <div class="tableWrap">
            <table id="tbl">
              <thead>
                <tr>
                  <th>SKU</th>
                  <th>Nome</th>
                  <th>Categoria</th>
                  <th>Marca</th>
                  <th>Estoque</th>
                  <th>Mín.</th>
                  <th>Preço</th>
                  <th>Local</th>
                  <th>Ativo</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <div class="hint">
            Clique em um item para editar. <span class="low">baixo</span> | <span class="bad">zerado</span>
          </div>
        </div>

        <div class="card">
          <h3>Novo / Editar</h3>
          <div class="formGrid">
            <label>SKU (manual)</label>
            <input id="p_sku" placeholder="EX: CABO-UGREEN-USBC-1M-V01" />

            <label>Nome</label>
            <input id="p_nome" placeholder="Nome do produto" />

            <label>Categoria</label>
            <input id="p_categoria" placeholder="CABO, CAPA, FONE..." />

            <label>Marca</label>
            <input id="p_marca" placeholder="UGREEN, JBL, APPLE..." />

            <label>Custo</label>
            <input id="p_custo" placeholder="12,50" />

            <label>Preço</label>
            <input id="p_preco" placeholder="29,90" />

            <label>Estoque</label>
            <input id="p_estoque" placeholder="20" />

            <label>Mínimo</label>
            <input id="p_minimo" placeholder="5" />

            <label>Local</label>
            <input id="p_local" placeholder="Prateleira A1" />

            <label>Ativo</label>
            <select id="p_ativo">
              <option value="SIM">SIM</option>
              <option value="NAO">NÃO</option>
            </select>

            <button id="btnSaveProduct" class="primary">Salvar</button>
            <button id="btnClearProduct">Limpar</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ABA: MOVIMENTAR -->
    <section class="panel" id="tab-movimentar">
      <div class="panelHeader">
        <h2>Entrada / Saída / Ajuste</h2>
        <div class="panelActions">
          <button id="btnQuickReload">Atualizar estoque</button>
        </div>
      </div>

      <div class="card">
        <div class="formRow">
          <div>
            <label>Tipo</label>
            <select id="m_tipo">
              <option>ENTRADA</option>
              <option>SAIDA</option>
              <option>AJUSTE</option>
            </select>
          </div>

          <div>
            <label>SKU</label>
            <input id="m_sku" placeholder="SKU do produto" />
          </div>

          <div>
            <label>Quantidade</label>
            <input id="m_qtd" placeholder="Ex: 10 (AJUSTE = estoque final)" />
          </div>

          <div>
            <label>Usuário</label>
            <input id="m_usuario" placeholder="Ex: Luziano" />
          </div>
        </div>

        <label>Observação</label>
        <input id="m_obs" placeholder="Ex: venda balcão / assistência / compra fornecedor" />

        <div class="actions">
          <button id="btnMove" class="primary">Registrar Movimento</button>
        </div>

        <div class="hint">
          ENTRADA soma • SAÍDA subtrai • AJUSTE define o estoque final.
        </div>
      </div>
    </section>

    <!-- ABA: MOVIMENTOS -->
    <section class="panel" id="tab-movimentos">
      <div class="panelHeader">
        <h2>Histórico de Movimentos</h2>
        <div class="panelActions">
          <input id="movLimit" value="50" />
          <button id="btnLoadMoves">Carregar</button>
        </div>
      </div>

      <div class="card">
        <div class="tableWrap">
          <table id="tblMoves">
            <thead>
              <tr>
                <th>Data</th>
                <th>Tipo</th>
                <th>SKU</th>
                <th>Qtd</th>
                <th>Obs</th>
                <th>Usuário</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
